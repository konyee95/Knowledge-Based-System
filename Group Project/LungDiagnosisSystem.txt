** Lung Diagnosis System **

(defrule askPatient1
	(LDS)
	=>(printout t " *****Welcome to Lung Diagnosis System*****" crlf)
	(printout t "Do you have any symptoms of these ??" crlf)
	(printout t "Fever? [yes/no]")
	(assert (fever (read))))

(defrule tuberculosis
	(and
		(persistent_cough yes)
		(constant_fatigue yes)
		(weight_loss yes)
		(lack_of_apetite yes)
		(fever yes)
		(coughing_blood yes)
		(night_sweats yes))
	=> (printout t "Diagnosing a lung disease..............." crlf)
	(printout t "That lung disease could be tuberculosis." crlf))

(defrule pneumonia
	(and
		(cough yes)
		(fever yes)
		(shaking_chills yes)
		(shortness_of_breath yes))
	=> (printout t "Diagnosing a lung disease..............." crlf)
	(printout t "That lung disease could be pneumonia." crlf))

(defrule byssinosis
	(and
		(chest_tightness yes)
		(cough yes)
		(wheezing yes))
	=> (printout t "Diagnosing a lung disease..............."crlf)
	(printout t "That lung disease could be byssinosis." crlf))

(defrule pertusis
	(and
		(runny_nose yes)
		(mild_fever yes))
	=> 	(printout t "Diagnosing a lung disease..............." crlf)
	(printout t "That lung disease could be pertusis."crlf))

(defrule pneumoconiosis
	(and
		(chronic_cough yes)
		(shortness_of_breath yes))
	=>	(printout t "Diagnosing a lung disease..............." crlf)
	(printout t "That lung disease could be pneumoconiosis."crlf))

(defrule sarcoidosis
	(and
		(dry_cough yes)
		(shortness_of_breath yes)
		(mild_chest_pain yes)
		(scaly_rash yes)
		(fever yes)
		(red_bumps_on_legs yes)
		(sore_eyes yes)
		(swollen_ankles yes))
	=> (printout t "Diagnosing a lung disease..............." crlf)
	(printout t "That lung disease could be sarcoidosis." crlf))

(defrule asbestosis
	(and
		(chest_tightness yes)
		(shortness_of_breath yes)
		(chest_pain yes)
		(lack_of_apetite yes))
	=>	(printout t "Diagnosing a lung disease..............." crlf)
	(printout t "That lung disease could be asbestosis." crlf))

(defrule asthma
	(and
		(wheezing yes)
		(cough yes)
		(chest_tightness yes)
		(shortness_of_breath yes))
	=>	(printout t "Diagnosing a lung disease..............."crlf)
	(printout t "That lung disease could be asthma." crlf))

(defrule bronchiolitis
	(and
		(wheezing yes)
		(fever yes)
		(blue_skin yes)
		(rapid_breath yes))
	=>	(printout t "Diagnosing a lung disease..............."crlf)
	(printout t "That lung disease could be bronchiolitis." crlf))

(defrule influenza
	(and
		(headache yes)
		(fever yes)
		(shaking_chills yes)
		(nasal_congestion yes)
		(runny_nose yes)
		(sore_throat yes))
	=>	(printout t "Diagnosing a lung disease..............."crlf)
	(printout t "That lung disease could be influenza." crlf))

(defrule lung_cancer
	(and
		(cough yes)
		(fever yes)
		(hoarseness yes)
		(chest_pain yes)
		(wheezing yes)
		(weight_loss yes)
		(lack_of_apetite yes)
		(coughing_blood yes)
		(headache yes)
		(shortness_of_breath yes))
	=>	(printout t "Diagnosing a lung disease..............."crlf)
	(printout t "That lung disease could be lung_cancer." crlf))

(defrule MildFeverNormalFever
	(fever yes)
	=>(printout t "Is it mild fever or serious fever? " crlf)
	(printout t "Mild fever? [yes/no]")
	(assert (mild_fever (read))))

(defrule NormalFever
	(mild_fever no)
	=> (printout t "Normal fever? [yes/no]")
	(assert (normal_fever (read))))

(defrule RunnyNose
	(or
		(and
			(fever yes)
			(mild_fever yes))
		(and
			(fever yes)
			(normal_fever yes)
			(cough no)
			(wheezing no)
			(headache yes)
			(shaking_chills yes)
			(nasal_congestion yes)))
	=> (printout t "Do you have runny nose? [yes/no]")
	(assert (runny_nose (read))))

(defrule Cough
	(or
		(and
			(fever no)
			(chest_tightness yes)
			(shortness_of_breath yes))
		(and
			(fever no)
			(chest_tightness yes)
			(shortness_of_breath no))
		(normal_fever yes))
	=> (printout t "Cough? [yes/no]")
	(assert (cough (read))))

(defrule DryCough
	(and
		(normal_fever yes)
		(cough yes))
	=> (printout t "Is it dry cough, persistent cough or  normal cough ?" crlf)
	(printout t "Dry cough? [yes/no]")
	(assert (dry_cough (read))))

(defrule NormalCough
	(persistent_cough no)
	=> (printout t " Normal cough ?[yes/no]")
	(assert (normal_cough (read))))

(defrule PersistentCough
	(and
		(fever yes)
		(cough yes) 
		(dry_cough no))
	=> (printout t "Persistent cough? [yes/no]")
	(assert (persistent_cough (read))))

(defrule Wheezing
	(or
		(and
			(fever no)
			(chest_tightness yes)
			(shortness_of_breath yes)
			(cough yes))
		(and
			(fever no)
			(chest_tightness yes)
			(shortness_of_breath no)
			(cough yes))
		(and
			(normal_fever yes)
			(cough no))
		(and
			(fever yes)
			(cough yes)
			(dry_cough no)
			(persistent_cough no)
			(normal_cough yes)
			(shortness_of_breath yes)
			(shaking_chills no)
			(hoarseness yes)
			(chest_pain yes)))
	=> (printout t "Wheezing? [yes/no]")
	(assert (wheezing (read))))
(defrule ChestTightness
	(fever no)
	=> (printout t "Do you have chest tightness? [yes/no]")
	(assert (chest_tightness (read))))


(defrule ConstantFatigue
	(persistent_cough yes)
	=> (printout t "Constant fatigue? [yes/no]")
	(assert (constant_fatigue (read))))

(defrule ShortnessOfBreath
	(or
		(and
			(normal_fever yes)
			(cough yes)
			(dry_cough yes))
		(and
			(normal_fever yes)
			(cough yes)
			(dry_cough no)
			(persistent_cough no)
			(normal_cough yes))
		(and 
			(fever no)
			(chest_tightness yes))
		(and
			(fever no)
			(chest_tightness no)
			(chronic_cough yes)))
	=> (printout t "Shortness of breath? [yes/no]")
	(assert (shortness_of_breath (read))))

(defrule WeightLoss
	(or
		(and
			(fever yes)
			(dry_cough no)
			(persistent_cough yes)
			(constant_fatigue yes))
		(and
			(fever yes)
			(cough yes)
			(dry_cough no)
			(persistent_cough no)
			(normal_cough yes)
			(shortness_of_breath yes)
			(shaking_chills no)
			(hoarseness yes)
			(chest_pain yes)
			(wheezing yes)))
	=> (printout t " Weight loss? [yes/no]")
	(assert (weight_loss (read))))

(defrule LackOfAppetite
	(or 
		(and
			(fever no)
			(chest_tightness yes)
			(shortness_of_breath no)
			(cough no)
			(chest_pain yes))
		(and
			(fever yes)
			(cough yes)
			(persistent_cough yes)
			(constant_fatigue yes)
			(weight_loss yes))
		(and
			(fever yes)
			(cough yes)
			(normal_cough yes)
			(shortness_of_breath yes)
			(shaking_chills no)
			(hoarseness yes)
			(chest_pain yes)
			(wheezing yes)
			(weight_loss yes)))
	=> (printout t "Are you lack of appetite?[yes/no]")
	(assert (lack_of_apetite (read))))

(defrule CoughingBlood
	(or 
		(and
			(fever yes)
			(cough yes)
			(persistent_cough yes)
			(constant_fatigue yes)
			(weight_loss yes)
			(lack_of_apetite yes))
		(and
			(fever yes)
			(cough yes)
			(normal_cough yes)
			(shortness_of_breath yes)
			(shaking_chills no)
			(hoarseness yes)
			(chest_pain yes)
			(wheezing yes)
			(weight_loss yes)
			(lack_of_apetite yes)))
		=>(printout t "Are you coughing blood? [yes/no]")
		(assert (coughing_blood (read))))

(defrule ChestPain
	(or
		(and
			(fever no)
			(chest_tightness yes)
			(shortness_of_breath no)
			(cough no))
		(and
			(fever yes)
			(cough yes)
			(normal_cough yes)
			(shortness_of_breath yes)
			(shaking_chills no)
			(hoarseness yes)))
	=>(printout t "Do you have chest pain? [yes/no]")
	(assert (chest_pain (read))))

(defrule Headache
	(or
		(and
			(fever yes)
			(normal_fever yes)
			(cough no)
			(wheezing no))
		(and
			(fever yes)
			(cough yes)
			(shortness_of_breath yes)
			(shaking_chills no)
			(hoarseness yes)
			(chest_pain yes)
			(wheezing yes)
			(weight_loss yes)
			(lack_of_apetite yes)))
	=>(printout t " Do you suffering headache? [yes/no]")
	(assert(headache (read))))

(defrule ShakingChills
	(or
		(and
			(fever yes)
			(normal_cough yes)
			(shortness_of_breath yes))
		(and
			(fever yes)
			(cough no)
			(wheezing no)
			(headache yes)))
	=>(printout t "Do you have shaking chills? [yes/no]")
	(assert (shaking_chills (read))))


(defrule errorMessage
	(or
	(runny_nose no)
	(normal_fever no)
	(normal_cough no)
	(constant_fatigue no))
	=> (printout t "Sorry, we may not be able to diagnose the disease!!" crlf)
	(printout t "Bye ! Thanks for using this system." crlf))